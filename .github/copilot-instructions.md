# Project Overview

This web platform (called Lety Marketplace) is being developed to address the difficulties pet owners encounter when seeking trustworthy veterinary services within BogotÃ¡. It aims to serve as a central hub facilitating the management and selection of these services, allowing users to more easily find and choose appropriate veterinary care for their pets in the city. The application focuses on enhancing the connection between veterinary clinics and potential clients, improving the decision-making process for pet owners by providing relevant information, and fostering trust within the BogotÃ¡ veterinary market through a dedicated digital solution.

# Personality

The model is configured to be direct and explanatory. It delivers concise responses that clearly state any changes or actions taken. For every modification, the model provides a brief explanation of the reason and effect, focusing solely on the essential details needed for understanding the adjustment while omitting unnecessary information.

Additionally, every response will begin with the ðŸ¤– emoji.

# Tech Stack

## Frontend

In the frontend the technologies used are:

- Typescript
- React router v7
- React (as a library)
- Tailwind
- Shadcn (Component library)
- Lucide React (Icons)

## Backend

In the backend the technologies used are:

- Node.js
- Express.js
- Playwright (testing library)

# Database

For the database, currently is being used postgresql in a Supabase database. The SQL code for the structure of the database is:

```sql
CREATE TABLE "usuarios" (
  "id_usuario" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "nombre" varchar(100),
  "correo" varchar(100) UNIQUE,
  "contrasena" varchar(200),
  "telefono" varchar(15),
  "fecha_registro" timestamp DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE "mascotas" (
  "id_mascota" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "id_usuario" int NOT NULL,
  "nombre" varchar(100),
  "edad" int,
  "raza" varchar(100),
  "historial_medico" text,
  "foto_url" varchar(200)
);

CREATE TABLE "clinicas" (
  "id_clinica" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "nombre" varchar(100),
  "direccion" varchar(150),
  "telefono" varchar(15),
  "correo" varchar(100) UNIQUE,
  "contrasena" varchar(200),
  "descripcion" text,
  "NIT" text UNIQUE,
  "servicio_24h" boolean,
  "estado" varchar(50) DEFAULT 'pendiente',
  "fecha_registro" timestamp DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE "servicios" (
  "id_servicio" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "id_clinica" int NOT NULL,
  "nombre" varchar(100),
  "descripcion" text,
  "precio" decimal(10,2),
  "categoria" varchar(100),
  "disponible" boolean DEFAULT true
);

CREATE TABLE "horarios_atencion" (
  "id_horario" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "id_clinica" int NOT NULL,
  "dia_semana" varchar(20),
  "hora_apertura" time,
  "hora_cierre" time,
  "es_24h" boolean DEFAULT false,
  "esta_cerrado" boolean DEFAULT false
);

CREATE TABLE "citas" (
  "id_cita" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "id_usuario" int NOT NULL,
  "id_mascota" int NOT NULL,
  "id_clinica" int NOT NULL,
  "id_servicio" int NOT NULL,
  "fecha_inicio" timestamp,
  "fecha_fin" timestamp,
  "estado" varchar(50)
);

CREATE TABLE "reseÃ±as" (
  "id_resena" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "id_usuario" int NOT NULL,
  "id_clinica" int NOT NULL,
  "calificacion" int,
  "comentario" text,
  "fecha" timestamp DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE "especialidades" (
  "id_especialidad" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "nombre" varchar(100)
);

CREATE TABLE "clinica_especialidades" (
  "id_clinica" int NOT NULL,
  "id_especialidad" int NOT NULL,
  PRIMARY KEY ("id_clinica", "id_especialidad")
);

CREATE TABLE "favoritos" (
  "id_usuario" int NOT NULL,
  "id_clinica" int NOT NULL,
  "fecha_agregado" timestamp DEFAULT (CURRENT_TIMESTAMP),
  PRIMARY KEY ("id_usuario", "id_clinica")
);

CREATE TABLE "notificaciones" (
  "id_notificacion" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "id_usuario" int NOT NULL,
  "id_clinica" int NOT NULL,
  "mensaje" text,
  "fecha" timestamp DEFAULT (CURRENT_TIMESTAMP),
  "leido" boolean DEFAULT false
);

COMMENT ON COLUMN "reseÃ±as"."calificacion" IS 'Valor entre 1 y 5';

ALTER TABLE "mascotas" ADD FOREIGN KEY ("id_usuario") REFERENCES "usuarios" ("id_usuario");

ALTER TABLE "servicios" ADD FOREIGN KEY ("id_clinica") REFERENCES "clinicas" ("id_clinica");

ALTER TABLE "horarios_atencion" ADD FOREIGN KEY ("id_clinica") REFERENCES "clinicas" ("id_clinica");

ALTER TABLE "citas" ADD FOREIGN KEY ("id_usuario") REFERENCES "usuarios" ("id_usuario");

ALTER TABLE "citas" ADD FOREIGN KEY ("id_mascota") REFERENCES "mascotas" ("id_mascota");

ALTER TABLE "citas" ADD FOREIGN KEY ("id_clinica") REFERENCES "clinicas" ("id_clinica");

ALTER TABLE "citas" ADD FOREIGN KEY ("id_servicio") REFERENCES "servicios" ("id_servicio");

ALTER TABLE "reseÃ±as" ADD FOREIGN KEY ("id_usuario") REFERENCES "usuarios" ("id_usuario");

ALTER TABLE "reseÃ±as" ADD FOREIGN KEY ("id_clinica") REFERENCES "clinicas" ("id_clinica");

ALTER TABLE "clinica_especialidades" ADD FOREIGN KEY ("id_clinica") REFERENCES "clinicas" ("id_clinica");

ALTER TABLE "clinica_especialidades" ADD FOREIGN KEY ("id_especialidad") REFERENCES "especialidades" ("id_especialidad");

ALTER TABLE "favoritos" ADD FOREIGN KEY ("id_usuario") REFERENCES "usuarios" ("id_usuario");

ALTER TABLE "favoritos" ADD FOREIGN KEY ("id_clinica") REFERENCES "clinicas" ("id_clinica");

ALTER TABLE "notificaciones" ADD FOREIGN KEY ("id_usuario") REFERENCES "usuarios" ("id_usuario");

ALTER TABLE "notificaciones" ADD FOREIGN KEY ("id_clinica") REFERENCES "clinicas" ("id_clinica");
```

# Current File structure

â”œâ”€â”€â”€.cursor
â”‚ â””â”€â”€â”€rules
â”œâ”€â”€â”€backend
â”‚ â”œâ”€â”€â”€node_modules
â”‚ â”œâ”€â”€â”€playwright-report
â”‚ â”œâ”€â”€â”€src
| â”œâ”€â”€â”€â”€â”€â”€middleware
| â”œâ”€â”€â”€â”€â”€â”€routes
â”‚ â”œâ”€â”€â”€test-results
â”‚ â”œâ”€â”€â”€tests
â”‚ â”œâ”€â”€â”€tests-examples
â”‚ â””â”€â”€â”€uploads
â””â”€â”€â”€frontend
â”œâ”€â”€â”€.react-router
â”‚ â””â”€â”€â”€types
â”‚ â””â”€â”€â”€app
â”‚ â”œâ”€â”€â”€+types
â”‚ â”œâ”€â”€â”€layouts
â”‚ â”‚ â”œâ”€â”€â”€DashboardLayoutClient
â”‚ â”‚ â”‚ â””â”€â”€â”€+types
â”‚ â”‚ â””â”€â”€â”€DashboardLayoutVet
â”‚ â”‚ â””â”€â”€â”€+types
â”‚ â””â”€â”€â”€routes
â”‚ â”œâ”€â”€â”€+types
â”‚ â”œâ”€â”€â”€DashboardClient
â”‚ â”‚ â””â”€â”€â”€+types
â”‚ â””â”€â”€â”€DashboardVet
â”‚ â””â”€â”€â”€+types
â”œâ”€â”€â”€app
â”‚ â”œâ”€â”€â”€components
â”‚ â”‚ â””â”€â”€â”€ui
â”‚ â”œâ”€â”€â”€layouts
â”‚ â”‚ â”œâ”€â”€â”€AuthLayout
â”‚ â”‚ â”œâ”€â”€â”€DashboardLayoutClient
â”‚ â”‚ â””â”€â”€â”€DashboardLayoutVet
â”‚ â”œâ”€â”€â”€lib
â”‚ â”œâ”€â”€â”€resources
â”‚ â”‚ â””â”€â”€â”€images
â”‚ â”œâ”€â”€â”€routes
â”‚ â”‚ â”œâ”€â”€â”€DashboardClient
â”‚ â”‚ â”œâ”€â”€â”€DashboardVet
â”‚ â”‚ â””â”€â”€â”€HomePage
â”‚ â””â”€â”€â”€zodSchemas
â”œâ”€â”€â”€node_modules
â””â”€â”€â”€public

# Comments

- Be brief and precise â†’ Explain what the code does, not how it works.
- Avoid the obvious â†’ Donâ€™t comment self-explanatory code (i++ // Increments i).
- Use JSDoc for functions and methods â†’ Describe parameters and return values.
- Keep comments updated â†’ If the code changes, update the comments.
- Mark TODOs and FIXMEs â†’ Use // TODO: and // FIXME: for pending tasks.
- Comment complex logic â†’ Explain algorithms or key decisions.
- Stick to one language â†’ If the code is in English, keep comments in English too.
- Donâ€™t overuse comments â†’ Clean code should need minimal commenting.

âœ¨ Extra: Use block comments (/\*_ ... _/) for documentation and inline comments (// ...) for quick notes.
